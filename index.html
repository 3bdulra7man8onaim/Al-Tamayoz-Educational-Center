<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ุณูุชุฑ ุงูุชููุฒ ุงูุชุนูููู</title>
    
    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>๐</text></svg>">
    
    <!-- Meta Tags -->
    <meta name="description" content="ูุธุงู ุฅุฏุงุฑุฉ ุณูุชุฑ ุงูุชููุฒ ุงูุชุนูููู - ุฅุฏุงุฑุฉ ุดุงููุฉ ููุทูุงุจ ูุงููุฏุฑุณูู ูุงููุฌููุนุงุช">
    <meta name="theme-color" content="#667eea">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="ุณูุชุฑ ุงูุชููุฒ">
    
    <link rel="stylesheet" href="style.css">
    <!-- UI Redesign CSS Files -->
    <link rel="stylesheet" href="ui-redesign-variables.css">
    <link rel="stylesheet" href="ui-redesign-components.css">
</head>
<body>
    <!-- Top Navigation Bar -->
    <div class="top-nav">
        <button class="nav-home-btn" onclick="goToHome()">
            <i class="fas fa-home"></i>
        </button>
        <div class="nav-breadcrumb">
            <span id="nav-path">ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ</span>
        </div>
        <button class="theme-toggle-nav" onclick="toggleTheme()">
            <i class="fas fa-moon"></i>
        </button>
    </div>

    <!-- Splash Screen -->
    <div id="splash-screen" class="splash-screen">
        <img src="https://i.ibb.co/ccfhgSmy/s.png" alt="ูุฑูุฒ ุงูุชููุฒ" class="splash-logo">
    </div>

    <!-- ุงูุตูุญุฉ ุงูุฑุฆูุณูุฉ - ุงุฎุชูุงุฑ ุงูุณูุฉ -->
    <div id="home-page" class="page">
        <div class="header" style="top: 0; padding: 16px 20px;">
            <div style="flex: 1; text-align: center;">
                <h1 style="margin: 0;">๐ ุณูุชุฑ ุงูุชููุฒ ุงูุชุนูููู</h1>
                <p style="margin: 5px 0 0 0;">ุงุฎุชุฑ ุงูุณูุฉ ุงูุฏุฑุงุณูุฉ</p>
            </div>
        </div>
        
        <!-- ุดุฑูุท ุงูุจุญุซ ุงูุนุงู -->
        <div class="search-container">
            <input type="text" id="global-search" placeholder="๐ ุงุจุญุซ ุจุงูุงุณู ุฃู ุงูุฑูู..." class="search-input">
            <div id="global-search-results" class="search-results"></div>
        </div>
        
        <div class="grades-container">
            <button class="grade-btn primary" onclick="selectGrade('primary1', 'ุฃููู ุงุจุชุฏุงุฆู')">
                <i class="fas fa-child grade-icon"></i>
                <span class="grade-text">ุฃููู ุงุจุชุฏุงุฆู</span>
            </button>
            
            <button class="grade-btn primary" onclick="selectGrade('primary2', 'ุซุงููุฉ ุงุจุชุฏุงุฆู')">
                <i class="fas fa-child grade-icon"></i>
                <span class="grade-text">ุซุงููุฉ ุงุจุชุฏุงุฆู</span>
            </button>
            
            <button class="grade-btn primary" onclick="selectGrade('primary3', 'ุซุงูุซุฉ ุงุจุชุฏุงุฆู')">
                <i class="fas fa-child grade-icon"></i>
                <span class="grade-text">ุซุงูุซุฉ ุงุจุชุฏุงุฆู</span>
            </button>
            
            <button class="grade-btn primary" onclick="selectGrade('primary4', 'ุฑุงุจุนุฉ ุงุจุชุฏุงุฆู')">
                <i class="fas fa-child grade-icon"></i>
                <span class="grade-text">ุฑุงุจุนุฉ ุงุจุชุฏุงุฆู</span>
            </button>
            
            <button class="grade-btn primary" onclick="selectGrade('primary5', 'ุฎุงูุณุฉ ุงุจุชุฏุงุฆู')">
                <i class="fas fa-child grade-icon"></i>
                <span class="grade-text">ุฎุงูุณุฉ ุงุจุชุฏุงุฆู</span>
            </button>
            
            <button class="grade-btn primary" onclick="selectGrade('primary6', 'ุณุงุฏุณุฉ ุงุจุชุฏุงุฆู')">
                <i class="fas fa-child grade-icon"></i>
                <span class="grade-text">ุณุงุฏุณุฉ ุงุจุชุฏุงุฆู</span>
            </button>
            
            <button class="grade-btn prep" onclick="selectGrade('prep1', 'ุฃููู ุฅุนุฏุงุฏู')">
                <i class="fas fa-book-reader grade-icon"></i>
                <span class="grade-text">ุฃููู ุฅุนุฏุงุฏู</span>
            </button>
            
            <button class="grade-btn prep" onclick="selectGrade('prep2', 'ุซุงููุฉ ุฅุนุฏุงุฏู')">
                <i class="fas fa-book-reader grade-icon"></i>
                <span class="grade-text">ุซุงููุฉ ุฅุนุฏุงุฏู</span>
            </button>
            
            <button class="grade-btn prep" onclick="selectGrade('prep3', 'ุซุงูุซุฉ ุฅุนุฏุงุฏู')">
                <i class="fas fa-book-reader grade-icon"></i>
                <span class="grade-text">ุซุงูุซุฉ ุฅุนุฏุงุฏู</span>
            </button>
            
            <button class="grade-btn sec" onclick="selectGrade('sec1', 'ุฃููู ุซุงููู')">
                <i class="fas fa-graduation-cap grade-icon"></i>
                <span class="grade-text">ุฃููู ุซุงููู</span>
            </button>
            
            <button class="grade-btn sec" onclick="selectGrade('sec2', 'ุซุงููุฉ ุซุงููู')">
                <i class="fas fa-graduation-cap grade-icon"></i>
                <span class="grade-text">ุซุงููุฉ ุซุงููู</span>
            </button>
            
            <button class="grade-btn sec" onclick="selectGrade('sec3', 'ุซุงูุซุฉ ุซุงููู')">
                <i class="fas fa-graduation-cap grade-icon"></i>
                <span class="grade-text">ุซุงูุซุฉ ุซุงููู</span>
            </button>
        </div>
    </div>

    <!-- ุตูุญุฉ ุงูููุงุฏ -->
    <div id="subjects-page" class="page">
        <div class="header">
            <button class="back-btn" onclick="goBack()">โ</button>
            <div>
                <h2 id="grade-title"></h2>
                <p>ุงุฎุชุฑ ุงููุงุฏุฉ</p>
            </div>
        </div>
        
        <!-- ุดุฑูุท ุงูุจุญุซ ูู ุงููุงุฏุฉ -->
        <div class="search-container">
            <input type="text" id="subject-search" placeholder="๐ ุงุจุญุซ ุจุงูุงุณู ุฃู ุงูุฑูู..." class="search-input">
            <div id="subject-search-results" class="search-results"></div>
        </div>
        
        <button class="add-btn" onclick="showAddSubjectModal()">+ ุฅุถุงูุฉ ูุงุฏุฉ ุฌุฏูุฏุฉ</button>
        
        <div id="subjects-container" class="subjects-grid"></div>
    </div>

    <!-- ุตูุญุฉ ุงููุฏุฑุณูู -->
    <div id="teachers-page" class="page">
        <div class="header">
            <button class="back-btn" onclick="goBack()">โ</button>
            <div>
                <h2 id="subject-title"></h2>
                <p id="subject-grade"></p>
            </div>
        </div>
        
        <button class="add-btn" onclick="showAddTeacherModal()">+ ุฅุถุงูุฉ ูุฏุฑุณ</button>
        
        <div id="teachers-container" class="list-container"></div>
    </div>

    <!-- ุตูุญุฉ ุงููุฌููุนุงุช -->
    <div id="groups-page" class="page">
        <div class="header">
            <button class="back-btn" onclick="goBack()">โ</button>
            <div>
                <h2 id="teacher-name"></h2>
                <p id="teacher-subject"></p>
            </div>
        </div>
        
        <button class="add-btn" onclick="showAddGroupModal()">+ ุฅุถุงูุฉ ูุฌููุนุฉ</button>
        
        <div id="groups-container" class="list-container"></div>
    </div>

    <!-- ุตูุญุฉ ุงูุทูุงุจ -->
    <div id="students-page" class="page">
        <div class="header">
            <button class="back-btn" onclick="goBack()">โ</button>
            <div>
                <h2 id="group-time"></h2>
                <p id="group-teacher"></p>
            </div>
        </div>
        
        <!-- ุดุฑูุท ุงูุจุญุซ ูู ุงูุทูุงุจ -->
        <div class="search-container">
            <input type="text" id="students-search" placeholder="๐ ุงุจุญุซ ุจุงูุงุณู ุฃู ุงูุฑูู..." class="search-input">
        </div>
        
        <!-- ุฅุญุตุงุฆูุงุช ุงูููู -->
        <div id="today-stats" class="stats-section"></div>
        
        <div class="action-buttons-row">
            <button class="add-btn" onclick="showAddStudentModal()">
                <i class="fas fa-user-plus"></i>
                <span>ุฅุถุงูุฉ ุทุงูุจ</span>
            </button>
            <button class="stats-menu-btn" onclick="showStatsMenu()">
                <i class="fas fa-chart-bar"></i>
            </button>
        </div>
        
        <div id="students-container" class="list-container"></div>
    </div>

    <!-- ุตูุญุฉ ุงูุทุงูุจ -->
    <div id="student-page" class="page">
        <div class="header">
            <button class="back-btn" onclick="goBack()">โ</button>
            <div>
                <h2 id="student-name-title"></h2>
                <p id="student-group-info"></p>
            </div>
        </div>
        
        <div id="student-profile-container"></div>
    </div>

    <!-- Modal ุฅุถุงูุฉ ูุฏุฑุณ -->
    <div id="add-teacher-modal" class="modal">
        <div class="modal-content">
            <h3>ุฅุถุงูุฉ ูุฏุฑุณ ุฌุฏูุฏ</h3>
            <input type="text" id="teacher-name-input" placeholder="ุงุณู ุงููุฏุฑุณ *" class="input">
            <input type="tel" id="teacher-phone-input" placeholder="ุฑูู ูุงุชู ุงููุฏุฑุณ *" class="input">
            <input type="number" id="teacher-price-input" placeholder="ุณุนุฑ ุงูุดูุฑ (ุงุฎุชูุงุฑู)" class="input">
            <div class="modal-buttons">
                <button class="btn-primary" onclick="addTeacher()">ุฅุถุงูุฉ</button>
                <button class="btn-secondary" onclick="closeModal()">ุฅูุบุงุก</button>
            </div>
        </div>
    </div>

    <!-- Modal ุฅุถุงูุฉ ูุฌููุนุฉ -->
    <div id="add-group-modal" class="modal">
        <div class="modal-content">
            <h3>ุฅุถุงูุฉ ูุฌููุนุฉ ุฌุฏูุฏุฉ</h3>
            <p style="font-size: 14px; color: #666; margin-bottom: 15px;">ุงุฎุชุฑ ุงูุฃูุงู ูุงูููุงุนูุฏ:</p>
            
            <div class="day-time-selector">
                <div class="day-item">
                    <label class="day-checkbox">
                        <input type="checkbox" value="ุงูุณุจุช" onchange="toggleDayTime(this)">
                        <span>ุงูุณุจุช</span>
                    </label>
                    <div class="time-period-group">
                        <input type="time" class="day-time-input" data-day="ุงูุณุจุช" disabled>
                        <select class="day-period-select" data-day="ุงูุณุจุช" disabled>
                            <option value="ุต">ุตุจุงุญุงู</option>
                            <option value="ู">ูุณุงุกู</option>
                        </select>
                    </div>
                </div>
                
                <div class="day-item">
                    <label class="day-checkbox">
                        <input type="checkbox" value="ุงูุฃุญุฏ" onchange="toggleDayTime(this)">
                        <span>ุงูุฃุญุฏ</span>
                    </label>
                    <div class="time-period-group">
                        <input type="time" class="day-time-input" data-day="ุงูุฃุญุฏ" disabled>
                        <select class="day-period-select" data-day="ุงูุฃุญุฏ" disabled>
                            <option value="ุต">ุตุจุงุญุงู</option>
                            <option value="ู">ูุณุงุกู</option>
                        </select>
                    </div>
                </div>
                
                <div class="day-item">
                    <label class="day-checkbox">
                        <input type="checkbox" value="ุงูุงุซููู" onchange="toggleDayTime(this)">
                        <span>ุงูุงุซููู</span>
                    </label>
                    <div class="time-period-group">
                        <input type="time" class="day-time-input" data-day="ุงูุงุซููู" disabled>
                        <select class="day-period-select" data-day="ุงูุงุซููู" disabled>
                            <option value="ุต">ุตุจุงุญุงู</option>
                            <option value="ู">ูุณุงุกู</option>
                        </select>
                    </div>
                </div>
                
                <div class="day-item">
                    <label class="day-checkbox">
                        <input type="checkbox" value="ุงูุซูุงุซุงุก" onchange="toggleDayTime(this)">
                        <span>ุงูุซูุงุซุงุก</span>
                    </label>
                    <div class="time-period-group">
                        <input type="time" class="day-time-input" data-day="ุงูุซูุงุซุงุก" disabled>
                        <select class="day-period-select" data-day="ุงูุซูุงุซุงุก" disabled>
                            <option value="ุต">ุตุจุงุญุงู</option>
                            <option value="ู">ูุณุงุกู</option>
                        </select>
                    </div>
                </div>
                
                <div class="day-item">
                    <label class="day-checkbox">
                        <input type="checkbox" value="ุงูุฃุฑุจุนุงุก" onchange="toggleDayTime(this)">
                        <span>ุงูุฃุฑุจุนุงุก</span>
                    </label>
                    <div class="time-period-group">
                        <input type="time" class="day-time-input" data-day="ุงูุฃุฑุจุนุงุก" disabled>
                        <select class="day-period-select" data-day="ุงูุฃุฑุจุนุงุก" disabled>
                            <option value="ุต">ุตุจุงุญุงู</option>
                            <option value="ู">ูุณุงุกู</option>
                        </select>
                    </div>
                </div>
                
                <div class="day-item">
                    <label class="day-checkbox">
                        <input type="checkbox" value="ุงูุฎููุณ" onchange="toggleDayTime(this)">
                        <span>ุงูุฎููุณ</span>
                    </label>
                    <div class="time-period-group">
                        <input type="time" class="day-time-input" data-day="ุงูุฎููุณ" disabled>
                        <select class="day-period-select" data-day="ุงูุฎููุณ" disabled>
                            <option value="ุต">ุตุจุงุญุงู</option>
                            <option value="ู">ูุณุงุกู</option>
                        </select>
                    </div>
                </div>
                
                <div class="day-item">
                    <label class="day-checkbox">
                        <input type="checkbox" value="ุงูุฌูุนุฉ" onchange="toggleDayTime(this)">
                        <span>ุงูุฌูุนุฉ</span>
                    </label>
                    <div class="time-period-group">
                        <input type="time" class="day-time-input" data-day="ุงูุฌูุนุฉ" disabled>
                        <select class="day-period-select" data-day="ุงูุฌูุนุฉ" disabled>
                            <option value="ุต">ุตุจุงุญุงู</option>
                            <option value="ู">ูุณุงุกู</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="modal-buttons">
                <button class="btn-primary" onclick="addGroup()">ุฅุถุงูุฉ</button>
                <button class="btn-secondary" onclick="closeModal()">ุฅูุบุงุก</button>
            </div>
        </div>
    </div>

    <!-- Modal ุฅุถุงูุฉ ุทุงูุจ -->
    <div id="add-student-modal" class="modal">
        <div class="modal-content">
            <h3>ุฅุถุงูุฉ ุทุงูุจ ุฌุฏูุฏ</h3>
            <input type="text" id="student-name-input" placeholder="ุงุณู ุงูุทุงูุจ *" class="input">
            <input type="tel" id="student-phone-input" placeholder="ุฑูู ุงูุทุงูุจ (ุงุฎุชูุงุฑู)" class="input">
            <input type="tel" id="student-parent-input" placeholder="ุฑูู ููู ุงูุฃูุฑ (ุงุฎุชูุงุฑู)" class="input">
            <textarea id="student-notes-input" placeholder="ููุงุญุธุงุช (ุงุฎุชูุงุฑู)" class="input" rows="3"></textarea>
            <div class="modal-buttons">
                <button class="btn-primary" onclick="addStudent()">ุฅุถุงูุฉ</button>
                <button class="btn-secondary" onclick="closeModal()">ุฅูุบุงุก</button>
            </div>
        </div>
    </div>

    <!-- Modal ุฅุถุงูุฉ ุฏุฑุฌุฉ -->
    <div id="add-grade-modal" class="modal">
        <div class="modal-content">
            <h3>ุฅุถุงูุฉ ุฏุฑุฌุฉ</h3>
            <input type="text" id="exam-name-input" placeholder="ุงุณู ุงูุงูุชุญุงู" class="input">
            <input type="number" id="exam-grade-input" placeholder="ุงูุฏุฑุฌุฉ" class="input">
            <input type="number" id="exam-total-input" placeholder="ูู (ุงูุฏุฑุฌุฉ ุงููุงููุฉ)" class="input">
            
            <div class="image-upload-section">
                <label class="image-upload-label">
                    ๐ท ุตูุฑุฉ ุงูุงูุชุญุงู (ุงุฎุชูุงุฑู)
                </label>
                <div class="image-upload-options">
                    <input type="file" id="exam-image-input" accept="image/*" class="file-input" onchange="previewExamImage(this)">
                    <label for="exam-image-input" class="file-input-label">
                        ๐ ุงุฎุชุฑ ุตูุฑุฉ
                    </label>
                    <button type="button" class="camera-btn" onclick="openCamera()">
                        ๐ธ ุงูุชูุท ุตูุฑุฉ
                    </button>
                </div>
                <div id="exam-image-preview" class="image-preview"></div>
                <div id="upload-status" class="upload-status"></div>
            </div>
            
            <div class="modal-buttons">
                <button class="btn-primary" onclick="addGrade()">ุฅุถุงูุฉ</button>
                <button class="btn-secondary" onclick="closeModal()">ุฅูุบุงุก</button>
            </div>
        </div>
    </div>

    <!-- Modal Camera -->
    <div id="camera-modal" class="modal">
        <div class="modal-content modal-wide">
            <h3>๐ธ ุงูุชูุงุท ุตูุฑุฉ ุงูุงูุชุญุงู</h3>
            <div class="camera-container">
                <video id="camera-video" autoplay playsinline></video>
                <canvas id="camera-canvas" style="display:none;"></canvas>
            </div>
            <div class="modal-buttons">
                <button class="btn-primary" onclick="capturePhoto()">๐ท ุงูุชูุท ุงูุตูุฑุฉ</button>
                <button class="btn-secondary" onclick="closeCameraModal()">ุฅูุบุงุก</button>
            </div>
        </div>
    </div>

    <!-- Modal ุชุณุฌูู ุงูุฏูุน -->
    <div id="payment-modal" class="modal">
        <div class="modal-content">
            <h3 id="payment-modal-title">ุชุณุฌูู ูููุณ ุดูุฑ</h3>
            <p style="text-align:center;color:#666;margin:15px 0;">ุณูุชู ุชุณุฌูู ุงููุจูุบ ุชููุงุฆูุงู ูู ุณุนุฑ ุงููุฏุฑุณ</p>
            <div class="modal-buttons">
                <button class="btn-primary" onclick="recordPayment()">ุชุณุฌูู</button>
                <button class="btn-secondary" onclick="closeModal()">ุฅูุบุงุก</button>
            </div>
        </div>
    </div>

    <!-- Modal ุชุนุฏูู ุงููุฏุฑุณ -->
    <div id="edit-teacher-modal" class="modal">
        <div class="modal-content">
            <h3>ุชุนุฏูู ุจูุงูุงุช ุงููุฏุฑุณ</h3>
            <input type="text" id="edit-teacher-name" placeholder="ุงุณู ุงููุฏุฑุณ" class="input">
            <input type="tel" id="edit-teacher-phone" placeholder="ุฑูู ูุงุชู ุงููุฏุฑุณ" class="input">
            <input type="number" id="edit-teacher-price" placeholder="ุณุนุฑ ุงูุดูุฑ" class="input">
            <div class="modal-buttons">
                <button class="btn-primary" onclick="saveTeacherEdit()">ุญูุธ</button>
                <button class="btn-secondary" onclick="closeModal()">ุฅูุบุงุก</button>
            </div>
        </div>
    </div>

    <!-- Modal ุชุนุฏูู ุงูุทุงูุจ -->
    <div id="edit-student-modal" class="modal">
        <div class="modal-content">
            <h3>ุชุนุฏูู ุจูุงูุงุช ุงูุทุงูุจ</h3>
            <input type="text" id="edit-student-name" placeholder="ุงุณู ุงูุทุงูุจ" class="input">
            <input type="tel" id="edit-student-phone" placeholder="ุฑูู ุงูุทุงูุจ" class="input">
            <input type="tel" id="edit-student-parent" placeholder="ุฑูู ููู ุงูุฃูุฑ" class="input">
            <textarea id="edit-student-notes" placeholder="ููุงุญุธุงุช" class="input" rows="3"></textarea>
            <div class="modal-buttons">
                <button class="btn-primary" onclick="saveStudentEdit()">ุญูุธ</button>
                <button class="btn-secondary" onclick="closeModal()">ุฅูุบุงุก</button>
            </div>
        </div>
    </div>

    <!-- Modal ุฅุถุงูุฉ ูุงุฏุฉ -->
    <div id="add-subject-modal" class="modal">
        <div class="modal-content">
            <h3>ุฅุถุงูุฉ ูุงุฏุฉ ุฌุฏูุฏุฉ</h3>
            <input type="text" id="subject-name-input" placeholder="ุงุณู ุงููุงุฏุฉ" class="input">
            <div class="modal-buttons">
                <button class="btn-primary" onclick="addNewSubject()">ุฅุถุงูุฉ</button>
                <button class="btn-secondary" onclick="closeModal()">ุฅูุบุงุก</button>
            </div>
        </div>
    </div>

    <!-- Modal ุฌุฏูู ุงูุญุถูุฑ -->
    <div id="attendance-table-modal" class="modal">
        <div class="modal-content modal-wide">
            <h3><i class="fas fa-calendar-check"></i> ุฌุฏูู ุงูุญุถูุฑ ูุงูุบูุงุจ</h3>
            <div id="attendance-table-container"></div>
            <div class="modal-buttons">
                <button class="btn-secondary" onclick="closeModal()">ุฅุบูุงู</button>
            </div>
        </div>
    </div>

    <!-- ุตูุญุฉ ุงููุดุงุฑูุฉ (Read-Only) -->
    <div id="shared-student-page" class="page">
        <div class="header">
            <div>
                <h2 id="shared-student-name"></h2>
                <p id="shared-student-info"></p>
            </div>
        </div>
        
        <div class="student-profile">
            <div class="profile-section">
                <h3>๐ ุงูุจูุงูุงุช ุงูุฃุณุงุณูุฉ</h3>
                <div class="info-grid">
                    <div class="info-item">
                        <span class="label">ุฑูู ุงูุทุงูุจ:</span>
                        <span id="shared-student-phone" class="value"></span>
                    </div>
                    <div class="info-item">
                        <span class="label">ุฑูู ููู ุงูุฃูุฑ:</span>
                        <span id="shared-student-parent" class="value"></span>
                    </div>
                    <div class="info-item">
                        <span class="label">ุญุงูุฉ ุงูุฏูุน:</span>
                        <span id="shared-student-payment" class="value"></span>
                    </div>
                </div>
            </div>

            <div class="profile-section">
                <h3>๐ ุงูุฏุฑุฌุงุช</h3>
                <div id="shared-grades-list" class="grades-list"></div>
            </div>

            <div class="profile-section">
                <h3>๐ธ ุตูุฑ ุงูุงูุชุญุงูุงุช</h3>
                <div id="shared-exam-images" class="exam-images-gallery"></div>
            </div>

            <div class="profile-section">
                <h3>๐ ุณุฌู ุงูุญุถูุฑ ูุงูุบูุงุจ</h3>
                <div id="shared-attendance-table"></div>
            </div>

            <div class="profile-section">
                <h3>๐ฐ ูุนูููุงุช ุงูุฏูุน</h3>
                <div class="payment-info">
                    <div class="info-item">
                        <span class="label">ุงูุดูุฑ ุงูุญุงูู:</span>
                        <span id="shared-current-month" class="value"></span>
                    </div>
                    <div class="info-item">
                        <span class="label">ุขุฎุฑ ุฏูุนุฉ:</span>
                        <span id="shared-last-payment" class="value"></span>
                    </div>
                </div>
            </div>

            <div class="shared-footer">
                <p>๐ ูุฐู ุงูุตูุญุฉ ูููุฑุงุกุฉ ููุท</p>
                <p>ูุฑูุฒ ุงูุชููุฒ ุงูุชุนูููู</p>
            </div>
        </div>
    </div>
    <!-- Image Lightbox (will be created dynamically) -->
    
    <!-- Custom Popup -->
    <div id="custom-popup-overlay" class="custom-popup-overlay">
        <div class="custom-popup">
            <div class="custom-popup-title" id="popup-title"></div>
            <div class="custom-popup-message" id="popup-message"></div>
            <div class="custom-popup-buttons" id="popup-buttons"></div>
        </div>
    </div>

    <!-- Contact Action Sheet -->
    <div id="contact-action-sheet" class="action-sheet-overlay">
        <div class="action-sheet">
            <div class="action-sheet-handle"></div>
            <h3 class="action-sheet-title">๐ฑ ุฎูุงุฑุงุช ุงูุชูุงุตู</h3>
            
            <div class="action-sheet-options">
                <button class="action-option call" onclick="callParent()">
                    <span class="action-option-icon">๐</span>
                    <span>ููุงููุฉ ููู ุงูุฃูุฑ</span>
                </button>
                
                <button class="action-option call" onclick="callStudent()">
                    <span class="action-option-icon">๐ฑ</span>
                    <span>ููุงููุฉ ุงูุทุงูุจ</span>
                </button>
                
                <button class="action-option whatsapp" onclick="contactParent()">
                    <span class="action-option-icon">๐ค</span>
                    <span>ุงุฑุณุงู ุชูุงุฑูุฑ ุงูุทุงูุจ ูููู ุงูุฃูุฑ</span>
                </button>
                
                <button class="action-option whatsapp" onclick="contactStudent()">
                    <span class="action-option-icon">๐ฌ</span>
                    <span>ุงุฑุณุงู ููุทุงูุจ ุจูุงูุงุชู</span>
                </button>
                
                <button class="action-option copy" onclick="copyShareLink()">
                    <span class="action-option-icon">๐</span>
                    <span>ูุณุฎ ุฑุงุจุท ุงููุดุงุฑูุฉ</span>
                </button>
                
                <button class="action-option cancel" onclick="closeActionSheet()">
                    ุฅูุบุงุก
                </button>
            </div>
        </div>
    </div>
    
    <!-- Developer Widget Section -->
    
    <!-- 1. Floating Action Button (FAB) -->
    <div id="fab-container" class="dev-fab-widget">
        <div class="dev-fab-glow"></div>
        <button id="fab-button" class="dev-fab-btn" aria-label="View Developer Info">
            <i class="fas fa-code"></i>
        </button>
    </div>

    <!-- 2. Modal Overlay -->
    <div id="modal-overlay" class="dev-modal-overlay">
        <div id="modal-backdrop" class="dev-modal-backdrop"></div>
        
        <div id="modal-card-wrapper" class="dev-modal-card-wrapper">
            <div class="dev-modal-card">
                
                <!-- Control Buttons -->
                <div class="dev-modal-controls">
                    <button id="close-button" class="dev-modal-close" title="Close">
                        <i class="fas fa-times"></i>
                    </button>
                </div>

                <!-- Background Effects -->
                <div class="dev-modal-blob dev-modal-blob-1"></div>
                <div class="dev-modal-blob dev-modal-blob-2"></div>
                
                <div class="dev-modal-content">
                    
                    <!-- Left Side: Identity -->
                    <div class="dev-identity">
                        <div class="dev-avatar-wrapper">
                            <div class="dev-avatar-ring"></div>
                            <div class="dev-avatar">
                                <img src="https://i.ibb.co/PsqC4pcv/Screen-Shot-2025-10-27-at-1-03-26-PM.png" alt="Abdulrahman Ghonaim" />
                            </div>
                            <div class="dev-avatar-badge">
                                <i class="fas fa-sparkles"></i>
                            </div>
                        </div>

                        <div class="dev-info">
                            <div class="dev-badge">Developer & Designer</div>
                            <h2 class="dev-name">Abdulrahman Ghonaim</h2>
                            <p class="dev-description">Crafting exceptional digital experiences with a blend of technical expertise and artistic vision.</p>
                        </div>
                    </div>

                    <!-- Right Side: Social Grid -->
                    <div class="dev-social-grid">
                        <a href="https://www.instagram.com/3bdulra7man_8onaim/" target="_blank" rel="noopener noreferrer" class="dev-social-btn dev-social-instagram" aria-label="Instagram">
                            <i class="fab fa-instagram"></i>
                        </a>
                        <a href="https://github.com/3bdulra7man8onaim" target="_blank" rel="noopener noreferrer" class="dev-social-btn dev-social-github" aria-label="GitHub">
                            <i class="fab fa-github"></i>
                        </a>
                        <a href="https://wa.me/201069625861" target="_blank" rel="noopener noreferrer" class="dev-social-btn dev-social-whatsapp" aria-label="WhatsApp">
                            <i class="fab fa-whatsapp"></i>
                        </a>
                        <a href="https://www.facebook.com/profile.php?id=61566604275272" target="_blank" rel="noopener noreferrer" class="dev-social-btn dev-social-facebook" aria-label="Facebook">
                            <i class="fab fa-facebook"></i>
                        </a>
                    </div>
                </div>

                <!-- Footer -->
                <div class="dev-modal-footer">
                    <div class="dev-footer-text">
                        <span>Developed with</span>
                        <i class="fas fa-heart dev-heart"></i>
                        <span>by <strong>Abdulrahman Ghonaim</strong></span>
                    </div>
                    <a href="https://wa.me/201069625861" target="_blank" rel="noreferrer" class="dev-whatsapp-link">
                        <span class="dev-status-dot"></span>
                        <span>WhatsApp: 01069625861</span>
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
    <script src="app.js"></script>
</body>
</html>
